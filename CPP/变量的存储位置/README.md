# 变量

## 变量类型

- 全局变量: 全局变量是在所有函数体的外部定义的，程序的所有部分（其他文件的代码）都可以使用。全局变量不受作用域的影响。全局变量的生命周期一直到程序的结束，全局变量是静态存储方式。
- 局部变量: 
  - 局部变量出现在一个作用域内，它们是局限于一个函数的。局部变量经常被称为自动变量，因为它们在进入作用域时，自动生成，离开作用域时自动消失。
  - 寄存器变量也是一种局部变量。register来修饰，就是告诉编译器尽可能快的访问这个变量,通过存放在寄存器中来实现快速访问。
- 静态变量: 静态变量的修饰关键字是static，static可以作用于变量以及函数。由static修饰的，可分为静态局部变量，静态全局变量，静态函数。静态变量的生命期和程序生命期是一样的，在程序结束之后操作系统会回收空间。
- 临时变量: 
  - 函数返回一个值相当于定义一个和返回值类型相同的临时变量并用 return 后面的表达式来初始化这个变量。
  - 临时变量的生命周期一般很短，如果被赋给一个左值的话，在赋值后就会被销毁。

## 左值和右值

- 左值（lvalue）：指向内存位置的表达式被称为左值（lvalue）表达式。左值可以出现在赋值号的左边或右边。
- 右值（rvalue）：术语右值（rvalue）指的是存储在内存中某些地址的数值。右值是不能对其进行赋值的表达式，也就是说，右值可以出现在赋值号的右边，但不能出现在赋值号的左边。

## 一个由 c/c++ 编译过的程序占用的内存分为一下几个部分

- 栈区 stack ：
  - 由编译器自动分配释放，
  - 存放函数的参数值，局部变量的值等。
  - 这个栈的操作方式类似于数据结构中的栈。

- 堆区 heap ：
  - 一般由程序员分配释放，若程序员不释放，程序结束时可能由OS回收，
  - 注意它与数据结构中的堆是两回事，分配方式类似于链表。
  - 存放 new 和 malloc 出来的对象。

- 全局/静态存储区 ： 
  - 全局变量和静态变量的存储是放在一块的。
  - 初始化的全局变量和静态变量在一块区域，
  - 未初始化的全局变量和静态变量又放在相邻的另一块区域中。
  - 未初始化的变量会默认初始化为 0。
  - 程序结束后由系统释放。

- 文字常量区  ： 
  - 常量字符串放在这里。
  - 程序结束后由系统释放。

- 程序代码区 ： 
  - 存放函数体的 2 进制代码。